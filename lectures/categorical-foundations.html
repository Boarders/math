<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Foundations of Relative Category Theory | The Nursury</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Foundations of Relative Category Theory" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We assume knowledge of basic categorical concepts such as categories, functors, and natural transformations. The purpose of this lecture is to develop the notion of a category over another category." />
<meta property="og:description" content="We assume knowledge of basic categorical concepts such as categories, functors, and natural transformations. The purpose of this lecture is to develop the notion of a category over another category." />
<link rel="canonical" href="https://www.jonsmsterling.com//math/lectures/categorical-foundations.html" />
<meta property="og:url" content="https://www.jonsmsterling.com//math/lectures/categorical-foundations.html" />
<meta property="og:site_name" content="The Nursury" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-01T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Foundations of Relative Category Theory" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Foundations of Relative Category Theory","dateModified":"2022-01-01T00:00:00+01:00","datePublished":"2022-01-01T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jonsmsterling.com//math/lectures/categorical-foundations.html"},"description":"We assume knowledge of basic categorical concepts such as categories, functors, and natural transformations. The purpose of this lecture is to develop the notion of a category over another category.","url":"https://www.jonsmsterling.com//math/lectures/categorical-foundations.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/math/assets/style.css"><link type="application/atom+xml" rel="alternate" href="https://www.jonsmsterling.com//math/feed.xml" title="The Nursury" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>

<script>
  const macros_promise =
    
    fetch("/math/assets/macros/topos.katex.json").then(response => response.json());
    ;

  document.addEventListener("DOMContentLoaded", function () {
    macros_promise.then(
      function (macros) {
        renderMathInElement(document.body, {
          delimiters: [
            { left: '$$', right: '$$', display: true },
            { left: '$', right: '$', display: false },
            { left: '\\[', right: '\\]', display: true }
          ],
          macros: macros,
          throwOnError: false
        });
      });
  });

</script>

<style>
  .katex { line-height: 1 !important; }
  .antex.display { display: flex; padding: 1em; }
  .antex.display > img { margin: 0 auto !important; }
</style>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/math/">The Nursury</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/math/">Lectures</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  

  <header class="post-header">
    <h1 class="post-title">
      Foundations of Relative Category Theory
      
    </h1>
    

  </header>


  
  <nav>
    <h4>Table of Contents</h4>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000R.html">[000R]</a>
    <a href="#000R">Foundational assumptions</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0008.html">[0008]</a>
    <a href="#0008">Displayed categories and fibrations</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/0000.html">[0000]</a>
    <a href="#0000">Displayed categories</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0001.html">[0001]</a>
    <a href="#0001">Cartesian morphisms</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0002.html">[0002]</a>
    <a href="#0002">Cartesian fibrations</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0003.html">[0003]</a>
    <a href="#0003">Example: the canonical-self-indexing</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0004.html">[0004]</a>
    <a href="#0004">Displayed and fibered functors</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0005.html">[0005]</a>
    <a href="#0005">Fiber categories and vertical maps</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000Q.html">[000Q]</a>
    <a href="#000Q">Opposite categories</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000S.html">[000S]</a>
    <a href="#000S">Exegesis of opposite categories</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0006.html">[0006]</a>
    <a href="#0006">Example: the family fibration</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0007.html">[0007]</a>
    <a href="#0007">Change of base</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/0009.html">[0009]</a>
    <a href="#0009">The Grothendieck construction</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000A.html">[000A]</a>
    <a href="#000A">The total category and its projection</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000B.html">[000B]</a>
    <a href="#000B">Displayed categories from functors</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000C.html">[000C]</a>
    <a href="#000C">Relationship to Street's fibrations</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000D.html">[000D]</a>
    <a href="#000D">Iteration and pushforward</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000E.html">[000E]</a>
    <a href="#000E">Properties of fibrations</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000F.html">[000F]</a>
    <a href="#000F">Locally small fibrations</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000G.html">[000G]</a>
    <a href="#000G">Warmup: locally small family fibrations</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000H.html">[000H]</a>
    <a href="#000H">A more abstract formulation</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000I.html">[000I]</a>
    <a href="#000I">The definition of local smallness</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000J.html">[000J]</a>
    <a href="#000J">Globally small fibrations</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000K.html">[000K]</a>
    <a href="#000K">Generic objects</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000L.html">[000L]</a>
    <a href="#000L">Globally small categories</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000P.html">[000P]</a>
    <a href="#000P">The definition of global smallness</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    <a class="slug" href="/math/nodes/000N.html">[000N]</a>
    <a href="#000N">Small fibrations and internal categories</a>
    <ul class="toc">
  
  <li>
    <a class="slug" href="/math/nodes/000O.html">[000O]</a>
    <a href="#000O">Internal categories</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
</ul>


  </li>
  
</ul>


  </nav>
  


  <div class="post-content">
    <p>We assume knowledge of basic categorical concepts such as categories, functors,
and natural transformations. The purpose of this lecture is to develop the
notion of a category <em>over</em> another category.</p>

<p>We will draw on the following materials:</p>

<blockquote>
  <ul>
    <li>Ahrens and Lumsdaine. <a href="https://arxiv.org/abs/1705.04296">Displayed Categories</a>.</li>
    <li>Benabou. Fibered categories and the foundations of naive category theory.</li>
    <li>Borceux. Handbook of Categorical Algebra 2: Categories and Structures.</li>
    <li>Jacobs.  <a href="https://people.mpi-sws.org/~dreyer/courses/catlogic/jacobs.pdf">Categorical Logic and Type Theory</a> .</li>
    <li>Streicher. <a href="https://www2.mathematik.tu-darmstadt.de/~streicher/FIBR/FiBo.pdf">Fibered Categories à la Jean Bénabou</a>.</li>
  </ul>
</blockquote>

<h2 id="000R">
  Foundational assumptions
<a class="slug" href="/math/nodes/000R.html">[000R]</a>
</h2>

<p>In our foundation we have a notions of <em>class</em> and <em>set</em>. When we speak
informally of “collections of things”, we are referring to classes; therefore,
a “category” for us is one with a class of objects, and a class of morphisms
from any one object to another. It is routine to define a class to be a formula
in the language of set theory; we take a more agnostic approach and just say
that classes are whatever is on the “outside”.</p>

<p><strong>Explanation.</strong> A <em>class</em> $\Phi$ is defined by a specification of how to
construct an element of $\Phi$, and when two elements of $\Phi$ are considered
equal.</p>

<p>Hence we assume the ability to take quotients of classes.</p>

<p><strong>Assumption.</strong> We assume that there exists a category $\SET$ satisfying the axioms of
<a href="http://ncatlab.org/nlab/show/ETCS">ETCS</a>; a <em>set</em> for us is then an object of
the category $\SET$.</p>

<h2 id="0008">
  Displayed categories and fibrations
<a class="slug" href="/math/nodes/0008.html">[0008]</a>
</h2>

<h3 id="0000">
  Displayed categories
<a class="slug" href="/math/nodes/0000.html">[0000]</a>
</h3>

<p>Let $B$ be a category. A <em>displayed category</em> $E$ over $B$ is defined by the
following data:</p>
<ol>
  <li>for each object $x\in B$, a collection of <em>displayed objects</em> $E\Sub{x}$,</li>
  <li>for each morphism $f : x \to y\in B$ and displayed objects $\bar{x}\in E\Sub{x}$ and
$\bar{y}\in E\Sub{y}$, a family of collections of <em>displayed morphisms</em> $E\Sub{f}(\bar{x},\bar{y})$,</li>
  <li>for each $x\in B$ and $\bar{x}\in E\Sub{x}$, a morphism $\Idn{\bar{x}} \in
E\Sub{\Idn{x}}(\bar{x},\bar{x})$ which we may also write $\bar{f}:\bar{x}\to\Sub{f} \bar{y}$,</li>
  <li>for each $f : x \to y$ and $g:y \to z$ in $B$ and objects $\bar{x}\in E\Sub{x}, \bar{y}\in
E\Sub{y}, \bar{z}\in E\Sub{z}$, a function
 \[
   E\Sub{f}(\bar{x},\bar{y}) \times E\Sub{g}(\bar{y},\bar{z}) \to E\Sub{f;g}(\bar{x},\bar{z})
 \]
that we will denote like ordinary (digrammatic) function composition,</li>
  <li>such that the following equations hold:
  \[
   \Idn{\bar{x}};\bar{h} = \bar{h}\qquad
   \bar{h};\Idn{\bar{y}} = \bar{h}\qquad
   \bar{f};(\bar{g};\bar{h}) = (\bar{f};\bar{g});\bar{h}
  \]
Note that these are well-defined because of the corresponding
laws for the base category $B$.</li>
</ol>

<p><strong>Notation</strong>. When we have too many subscripts, $E[x]$ instead of $E\Sub{x}$.</p>

<h3 id="0001">
  Cartesian morphisms
<a class="slug" href="/math/nodes/0001.html">[0001]</a>
</h3>

<p>Let $E$ be displayed over $B$, and let $f:x\to y \in B$; a morphism
$\bar{f}:\bar{x}\to\Sub{f} \bar{y}$ in $E$ is called <em>cartesian</em> over $f$ when for
any $m:u\to x$ and $\bar{h}:\bar{u}\to\Sub{u;f} \bar{y}$ there exists a unique
$\bar{m} : \bar{u}\to\Sub{m} \bar{x}$ with $\bar{m};\bar{f} = \bar{h}$. We visualize
this unique factorization of $\bar{h}$ through $\bar{f}$ over $m$ as follows:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 25.466ex; width: 26.892ex;' src="/math/antex/f3568e9a1d1d1589924461df47321aa2.svg" /></span></p>

<p>Above we have used the “pullback corner” to indicate $\bar{x}\to\bar{y}$ as a
cartesian map. We return to this in our discussion of the self-indexing <a href="/math/nodes/0003.html" class="slug">[0003]</a>
of a category.</p>

<h3 id="0002">
  Cartesian fibrations
<a class="slug" href="/math/nodes/0002.html">[0002]</a>
</h3>

<p>A displayed category $E$ over $B$ is said to be a <em>cartesian fibration</em>, when
for each morphism $f : x \to y$ and displayed object $\bar{y}\in E\Sub{y}$, there
exists a displayed object $\bar{x}\in E\Sub{x}$ and a <em>cartesian</em> morphism
$\bar{f} : \bar{x}\to\Sub{f} \bar{y}$. Note that the pair $(\bar{x},\bar{f})$ is unique up to
unique isomorphism, so being fibered is a <em>property</em> of a displayed category.</p>

<p>There are other variations of fibration. For instance, $E$ is said to be an
<em>isofibration</em> when the condition above holds just for isomorphisms $f : x
\cong y$ in the base.</p>

<h3 id="0003">
  Example: the canonical-self-indexing
<a class="slug" href="/math/nodes/0003.html">[0003]</a>
</h3>

<p>Let $B$ be an ordinary category; there is a canonical displayed category
$\SelfIx{B}$ over $B$ given fiberwise by the <em>slices</em> of $B$.</p>
<ol>
  <li>For $x\in B$, we define $\SelfIx{B}\Sub{x}$ to be the collection $\Sl{B}{x}$
of pairs $(\bar{x}\in B,p\Sub{x}:\bar{x}\to x)$.</li>
  <li>For $f : x\to y\in B$, we define $\SelfIx{B}\Sub{f}$ to be the collection of
commuting squares in the following configuration:
<span class="antex display"><img style='margin: 0.002ex 0.082ex -3.292ex -0.104ex; height: 19.39ex; width: 21.774ex;' src="/math/antex/52cb7d23c0af2a6238e882711b7c9e10.svg" /></span></li>
</ol>

<p><strong>Exercise.</strong> Prove that $\SelfIx{B}$ is a cartesian fibration if and only if $B$ has pullbacks.</p>

<h3 id="0004">
  Displayed and fibered functors
<a class="slug" href="/math/nodes/0004.html">[0004]</a>
</h3>

<p>Let $E$ be displayed over $B$ and let $F$ be displayed over $C$. If $U:B \to C$
is an ordinary functor, than a <em>displayed functor</em> from $E$ to $F$ over $U$ is
given by the following data:</p>

<ol>
  <li>for each displayed object $\bar{x}\in E\Sub{x}$, a displayed object $\bar{U}\bar{x}\in E\Sub{Ux}$,</li>
  <li>for each displayed morphism $\bar{f} : \bar{x}\to\Sub{f}\bar{y}$, a displayed morphism $\bar{U}\bar{f} : \bar{U}\bar{x}\to\Sub{Uf}\bar{U}\bar{y}$,</li>
  <li>such that the assignment $\bar{U}f$ preserves displayed identities and displayed composition.</li>
</ol>

<p>From this notion, we can see the varition of displayed categories over their
base categories itself has a “displayed categorical” structure; up to size
issues, we could speak of the displayed <em>bicategory</em> of displayed categories.</p>

<p><strong>Note.</strong> The correct notion of morphism between cartesian fibrations is given
by displayed functors that preserve cartesian maps. We will call these <em>fibered
functors</em>.</p>

<h3 id="0005">
  Fiber categories and vertical maps
<a class="slug" href="/math/nodes/0005.html">[0005]</a>
</h3>

<p>Let $E$ be a category displayed over $B$. A <em>vertical map</em> in $E$ is defined to be one that
lies over the identity map in $B$.
For every $b\in B$, there the collection $E\Sub{b}$ of displayed objects has the
structure of a category; in particular, we set $E\Sub{b}(u,v)$ to be the collection
of vertical maps $u\to\Sub{\Idn{b}}v$.</p>

<h3 id="000Q">
  Opposite categories
<a class="slug" href="/math/nodes/000Q.html">[000Q]</a>
</h3>

<p>Let $E$ be fibered over $B$; we may define the <em>opposite</em> fibered category
$\OpCat{E}$ over $B$ like so:</p>

<ol>
  <li>
    <p>An object of $\OpCat{E}\Sub{x}$ is given by an object of $E\Sub{x}$.</p>
  </li>
  <li>
    <p>Given $f : x \to y\in B$, a morphism $\bar{x}\to_f \bar{y}$ in $\OpCat{E}$
is given by a cartesian map $\bar{y}\Sub{f} : \bar{y}\Sub{x} \to\Sub{f} \bar{y}$ together
with a <em>vertical</em> map $h : \bar{y}\Sub{x}\to\Sub{\Idn{x}} \bar{y}$ as depicted below:
<span class="antex display"><img style='margin: 0.002ex 0.079ex -11.846ex 0.0ex; height: 15.729ex; width: 31.109ex;' src="/math/antex/f364346f8e5e7b7cf49f69493dad6d4c.svg" /></span>
such that $\brc{\bar{x} \leftarrow \bar{y}\Sub{x}\Sup{1}\to \bar{y}}$ is
identified with $\brc{\bar{x}\leftarrow\bar{y}\Sub{x}\Sup{2}\to \bar{y}}$
when they agree up to the unique vertical isomorphism $\bar{y}\Sub{x}\Sup{1}\cong\bar{y}\Sub{x}\Sup{2}$
induced by the universal property of cartesian maps in the sense that the following diagram commutes:
<span class="antex display"><img style='margin: -0.05ex 0.151ex -11.384ex 0.0ex; height: 22.94ex; width: 21.527ex;' src="/math/antex/43b600c7ccbae9fced9cc5d7d6348d16.svg" /></span></p>
  </li>
</ol>

<p><strong>Note.</strong> Above we have used the ability to take the quotient of a proper class <a href="/math/nodes/000R.html" class="slug">[000R]</a></p>

<h4 id="000S">
  Exegesis of opposite categories
<a class="slug" href="/math/nodes/000S.html">[000S]</a>
</h4>

<p>The construction of fibered opposite categories <a href="/math/nodes/000Q.html" class="slug">[000Q]</a> does appear quite
involved, but it can be seen to be inevitable from the perspective of the fiber
categories $\OpCat{E}\Sub{x}$ <a href="/math/nodes/0005.html" class="slug">[0005]</a>. Indeed, let $u,v\in
\OpCat{E}\Sub{x}$ and fix a <em>vertical</em> map $h : u \to v\in \OpCat{E}\Sub{x}$;
by unfolding definitions, we see that the vertical map $h : u \to v$ is
uniquely determined by a morphism $v\to u\in E\Sub{x}$.</p>

<p><strong>Proof.</strong> A displayed morphism $u\to\Sub{\Idn{x}} v\in \OpCat{E}$ is
determined by a span $\brc{u\leftarrow v\Sub{x} \to v}\in E$ where the right-hand
map is cartesian over $\Idn{x} : x\to x$ and the left-hand map is vertical, taken up to the identification of
different cartesian lifts $v\Sub{x}\to x$. A displayed morphism that is cartesian over the identity is an isomorphism; hence, displayed morphisms $u\to\Sub{\Idn{x}} v\in\OpCat{E}$ are equivalently determined by vertical maps $v\to u \in E$.</p>

<h3 id="0006">
  Example: the family fibration
<a class="slug" href="/math/nodes/0006.html">[0006]</a>
</h3>

<p>Any ordinary category $C$ can be viewed as a displayed category $\FAM{C}$ over $\SET$:</p>

<ol>
  <li>For $S\in \SET$, object in $\FAM{C}[S]$ is specified by a functor $C^S$
where $S$ is regarded as a discrete category.</li>
  <li>Given $f : S \to T$ in $\SET$ and $x\in C^S$ and $y\in C^T$, a morphism
$x \to\Sub{f} y$ is given by a morphism $\InvImg{f}x\to y$ in $C^S$ where
$\InvImg{f} : C^T \to C^S$ is precomposiiton with $f$.</li>
</ol>

<p>The displayed category $\FAM{C}$ is in fact a cartesian fibration. This family
fibration is the starting point for developing a <em>relative</em> form of category
theory, the purpose of this lecture. By analogy with viewing an ordinary
category $C$ as a fibration $\FAM{C}$ over $\SET$, we may reasonably define a
“relative category” over another base $B$ to be a fibration over $B$.</p>

<p>This story for relative category theory reflects the way that ordinary
categories are “based on” $\SET$ in some sense in spite of the fact that they
do not necessarily have sets of objects or even sets of morphisms between
objects. Being small and locally small respectively will later be seen to be
properties of a family fibration over an arbitrary base $B$, strictly
generalizing the classical notions.</p>

<h3 id="0007">
  Change of base
<a class="slug" href="/math/nodes/0007.html">[0007]</a>
</h3>

<p>Suppose that $E$ is displayed over $B$ and $F : X\to B$ is a
functor; then we may define a displayed category $\InvImg{F}E$ as over $X$ follows:</p>

<ol>
  <li>
    <p>An object of $(\InvImg{F}E)\Sub{x}$ is an object of $E\Sub{Fx}$.</p>
  </li>
  <li>
    <p>Given $\bar{x}\in (\InvImg{F}E)\Sub{x}$, $\bar{y}\in (\InvImg{F}E)\Sub{y}$ and $f : x
\to y$, a morphism $\bar{x}\to\Sub{f}\bar{y}$ in $\InvImg{F}E$ is given by a morphism $\bar{x}\to\Sub{Ff}\bar{y}$ in $E$.</p>
  </li>
</ol>

<p>We visualize the change of base scenario as follows:
<span class="antex display"><img style='margin: -0.016ex 0.077ex -2.788ex 0.0ex; height: 15.166ex; width: 18.537ex;' src="/math/antex/f1ea9f6cb2f6ed264a583fa012ca80f4.svg" /></span></p>

<h2 id="0009">
  The Grothendieck construction
<a class="slug" href="/math/nodes/0009.html">[0009]</a>
</h2>

<h3 id="000A">
  The total category and its projection
<a class="slug" href="/math/nodes/000A.html">[000A]</a>
</h3>

<p>Note that any displayed category $E$ over $B$ can be viewed as an undisplayed
category $\TotCat{E}$ equipped with a projection functor $p\Sub{E}: \TotCat{E}\to
B$; in this case $\TotCat{E}$ is called the <em>total category</em> of $E$.</p>

<ol>
  <li>An object of $\TotCat{E}$ is given by a pair $(x,\bar{x})$ where $x\in B$ and
$\bar{x}\in E\Sub{x}$.</li>
  <li>A morphism $(x,\bar{x})\to (y,\bar{y})$ in $\TotCat{E}$ is given by a pair $(f,\bar{f})$ where
$f:x\to y$ and $\bar{f}:\bar{x}\to\Sub{f}\bar{y}$.</li>
</ol>

<p>The construction of the total category of displayed category is called the <em>Grothendieck construction.</em></p>

<p><strong>Exercise.</strong> Prove that the total category $\TotCat{\SelfIx{B}}$ of the canonical self-indexing is the arrow category $B^{\to}$.</p>

<h3 id="000B">
  Displayed categories from functors
<a class="slug" href="/math/nodes/000B.html">[000B]</a>
</h3>

<p>In many cases, one starts with a functor $P:E\to B$; if it were meaningful to
speak of <em>equality</em> of objects in an arbitrary category then there would be an
obvious construction of a displayed category $P\Sub{\bullet}$ from $P$; we would
simply set $P\Sub{x}$ to be the collection of objects $u\in E$ such that $Pu=x$. As
it stands there is a more subtle version that will coincide up to categorical
equivalence with the naïve one in all cases that the latter is meaningful.</p>

<ol>
  <li>
    <p>We define an object of $P\Sub{x}$ to be be a pair $(u,\phi\Sub{u})$ where $i\in E$ and
$\phi\Sub{u} : Pu\cong x$. It is good to visualize such a pair as a “crooked
leg” like so:
<span class="antex display"><img style='margin: -0.056ex 0.097ex -10.484ex 0.0ex; height: 11.809ex; width: 14.117ex;' src="/math/antex/f93818c2114b08a4c8e26c89a3626f81.svg" /></span></p>
  </li>
  <li>
    <p>A morphism $(u,\phi\Sub{u})\to\Sub{f} (v,\phi\Sub{v})$ over $f : x \to y$ is given by
a morphism $h : u\to v$ that lies over $f$ modulo the isomorphisms
$\phi\Sub{u},\phi\Sub{v}$ in sense depicted below:
<span class="antex display"><img style='margin: -0.021ex 0.067ex -15.345ex 0.0ex; height: 28.65ex; width: 30.246ex;' src="/math/antex/c35ca0243865e49bac8dfa13a14e3e50.svg" /></span></p>
  </li>
</ol>

<p><strong>Exercise.</strong> Suppose that $B$ is an internal category in $\mathbf{Set}$, i.e.
it has a set of objects. Exhibit an equivalence of displayed categories between
$P\Sub{\bullet}$ as described above, and the naïve definition which $E\Sub{x}$ is the
collection of objects $u\in E$ such that $Pu = x$.</p>

<p>We have a functor $\TotCat{P\Sub{\bullet}}\to E$ taking a pair $(x,(u,\phi\Sub{u}))$ to
$u$.</p>

<p><strong>Exercise.</strong> Explicitly construct the functorial action of $\TotCat{P\Sub{\bullet}}\to E$.</p>

<p><strong>Exercise.</strong> Verify that $\TotCat{P\Sub{\bullet}}\to E$ is a categorical equivalence.</p>

<h4 id="000C">
  Relationship to Street’s fibrations
<a class="slug" href="/math/nodes/000C.html">[000C]</a>
</h4>

<p>In classical category theory, fibrations are defined by
Grothendieck <a class="citation" href="#sga:1">(1971)</a> to be certain functors $E\to B$ such that any morphism $f:x\to Pv$
in $B$ lies strictly underneath a cartesian morphism in $E$. As we have
discussed, this condition cannot be formulated unless equality is meaningful
for the collection of objects of $B$.</p>

<p>There is an alternative definition of fibration <a class="citation" href="#street:1980">(Street, 1980)</a> that avoids
equality of objects; here we require for each $f:x\to Pv$ a cartesian morphism
$h:\InvImg{f}v \to v$ together with an isomorphism $\phi : P(\InvImg{f}v)\cong x$
such that $\phi^{-1};Ph = f$.</p>

<p>By unrolling definitions, it is not difficult to see that the displayed
category $P\Sub{\bullet}$ is a fibration in our sense if and only if the functor
$P:E\to B$ was a fibration in Street’s sense. Moreover, it can be seen that the
Grothendieck construction yields a <em>Grothendieck</em> fibration
$\TotCat{P\Sub{\bullet}}\to B$; hence we have introduced by accident a convenient
destription of the <em>strictification</em> of Street fibrations into equivalent
Grothendieck fibrations.</p>

<h3 id="000D">
  Iteration and pushforward
<a class="slug" href="/math/nodes/000D.html">[000D]</a>
</h3>

<p>It also makes sense to speak of a categories displayed over other displayed
categories; one way to formalize this notion is as follows. Let $E$ be
displayed over $B$; we define a category displayed over $E$ to be simply a
category displayed over the total category $\TotCat{E}$.</p>

<p>Now let $F$ be displayed over $E$ over $B$. Then we may regard $F$ as a
displayed category $B\Sub{!}F$ over $B$ as follows:</p>

<ol>
  <li>An object of $(B\Sub{!}F)\Sub{x}$ is a pair $(\bar{x},{\ddot{x}})$ with $\bar{x}\in E\Sub{x}$ and ${\ddot{x}}\in F\Sub{\bar{x}}$.</li>
  <li>A morphism $(\bar{x},{\ddot{x}})\to\Sub{f}(\bar{y},{\ddot{y}})$ is given by a pair $(\bar{f},{\ddot{f}})$ where $\bar{f}:\bar{x}\to\Sub{f}\bar{y}$ in $E$ and ${\ddot{f}}:{\ddot{x}}\to\Sub{\bar{f}} {\ddot{y}}$ in $F$.</li>
</ol>

<p>By virtue of <a href="/math/nodes/000B.html" class="slug">[000B]</a>, we may define the <em>pushforward</em> of a displayed category along a functor. In particular, let $E$
be displayed over $B$ and let $U:B\to C$ be an ordinary functor; then we may
obtain a displayed category $U\Sub{!}E$ over $C$ as follows:</p>

<ol>
  <li>First we construct the displayed category $U\Sub{\bullet}$ corresponding to the
functor $U:B \to C$.</li>
  <li>We recall that there is a canonical equivalence of categories
$\TotCat{U\Sub{\bullet}}\to B$.</li>
  <li>Because $E$ is displayed over $B$, we may regard it as displayed over the
equivalent total category $\TotCat{U\Sub{\bullet}}$ by
change of base <a href="/math/nodes/0007.html" class="slug">[0007]</a>.</li>
  <li>Hence we may define the pushforward $U\Sub{!}E$ to be the displayed category $(U\Sub{\bullet})\Sub{!}E$ as defined above.</li>
</ol>

<h2 id="000E">
  Properties of fibrations
<a class="slug" href="/math/nodes/000E.html">[000E]</a>
</h2>

<h3 id="000F">
  Locally small fibrations
<a class="slug" href="/math/nodes/000F.html">[000F]</a>
</h3>

<p>There are a number of (equivalent) variations on the definition of a locally
small fibration. We attempt to provide
some intuition for these definitions.</p>

<h4 id="000G">
  Warmup: locally small family fibrations
<a class="slug" href="/math/nodes/000G.html">[000G]</a>
</h4>

<p>An ordinary category $E$ is called <em>locally small</em> when for any $x,y\in E$ the
collection of morphisms $x\to y$ is a set.  This property of $E$ can be
rephrased in terms of its <em>family fibration</em> <a href="/math/nodes/0004.html" class="slug">[0004]</a> $\FAM{E}$ over
$\SET$ as follows.</p>

<p>Consider an index set $I\in \SET$ and two families $u,v\in C^I$. We may define
an $I$-indexed collection $[u,v]\Sub{i\in I}$ consisting (pointwise) of all the
morphisms $u\Sub{i}\to v\Sub{i}$ in $C$:
<span class="antex display"><img style='margin: -0.021ex 0.149ex -0.602ex 0.0ex; height: 2.364ex; width: 25.177ex;' src="/math/antex/5aa69c75a6e8dcc0a4b02001f40fe9c4.svg" /></span></p>

<p>If $C$ is locally small, $[u,v]\Sub{i\in I}$ is in fact a family of sets for
any $I\in\SET$ as each $[u,v]\Sub{i}$ is a set. Conversely, if $[u,v]\Sub{i\in I}$
is a family of sets for any $I\in \SET$, then $C$ is locally small as we may
consider in particular the case that $I=\mathbf{1}$.</p>

<h4 id="000H">
  A more abstract formulation
<a class="slug" href="/math/nodes/000H.html">[000H]</a>
</h4>

<p>We will reformulate the above in a way that uses only the language that makes
sense for an arbitrary fibration, though for now we stick with $\FAM{C}$. Given
$u,v\in \FAM{C}[I]$, we have a “relative hom family” $[u,v]\in\Sl{\SET}{I}$,
defined in <a href="/math/nodes/000G.html" class="slug">[000G]</a>. The fact that each $[u,v]\Sub{i}$ is the set of all
morphisms $u\Sub{i}\to v\Sub{i}$ can be rephrased more abstractly.</p>

<p>First we consider the restriction of $u\in \FAM{C}[I]$ to $\FAM{C}[[u,v]]$ as follows:
<span class="antex display"><img style='margin: 0.002ex 0.029ex -3.019ex 0.0ex; height: 17.557ex; width: 19.367ex;' src="/math/antex/32af0d7286cf47b57fa87bf13b510784.svg" /></span>
Explicitly the family $\InvImg{[u,v]}u$ is indexed in a pair of an element $i\in I$ and a morphism $u\Sub{i}\to v\Sub{i}$.
We can think of $\InvImg{[u,v]}u$ as the object of elements of $u\Sub{i}$ indexed in pairs $(i,u\Sub{i}\to v\Sub{i})$.</p>

<p>There is a canonical map
$\epsilon\Sub{[u,v]}:\InvImg{[u,v]}u\to\Sub{p\Sub{[u,v]}} v$ that
“evaluates” each indexing morphism $u\Sub{i}\to v\Sub{i}$.</p>

<p>That each $[u,v]\Sub{i}$ is the set of all morphisms $u\Sub{i}\to v\Sub{i}$ can be
rephrased as a universal property: for any family $h\in\Sl{\SET}{I}$ and
morphism $\epsilon\Sub{h} : \InvImg{h}u\to\Sub{h} v$ in $\FAM{C}$, there is a
unique cartesian map $\InvImg{h}u\to \InvImg{[u,v]}u$ factoring $\epsilon\Sub{h}$ through $\epsilon\Sub{[u,v]}$
in the sense depicted below:
<span class="antex display"><img style='margin: -0.023ex 0.0ex -18.456ex 0.0ex; height: 27.136ex; width: 37.966ex;' src="/math/antex/c09613ab6c9806acee30a95ea2e878c4.svg" /></span></p>

<p>To convince ourselves of this, we note that the family $H \coloneqq \brc{u\Sub{i}\to v\Sub{i}}\Sub{i\in I}$ itself satisfies the universal property above. Indeed, fix a candiate $h \in \Sl{\SET}{I}$ equipped with a map $\epsilon\Sub{h} : h^*u \to_h v$. Unfolding the meaning of this map in set theoretical notation, we see that it amounts to a family of maps $\epsilon\Sub{h}[i] : \prod\Sub{x\in h_i} \brc{u_i\to v_i}$ for each $i\in I$; such a family immediately induces the desired map $h\to H$.</p>

<h4 id="000I">
  The definition of local smallness
<a class="slug" href="/math/nodes/000I.html">[000I]</a>
</h4>

<p>Based on our explorations above, we are now prepared to write down (and
understand) the proper definition of local smallness for an arbitrary fibration
$E$ over $B$, which should be thought of as a (potentially large) category
relative to $B$.</p>

<p>For any $x\in B$ and displayed objects $u,v\in E\Sub{x}$, we define a <em>hom
candidate</em> for $u,v$ to be a span $u\leftarrow \bar{h} \rightarrow v$ in $E$ in which the left-hand leg is cartesian:
<span class="antex display"><img style='margin: 0.002ex 0.028ex -13.144ex 0.0ex; height: 16.815ex; width: 30.861ex;' src="/math/antex/0bb08b92e5f2492d8cd859ccee3ea226.svg" /></span></p>

<p>In the above, $h$ should be thought of as a candidate for the “hom object” of $u,v$,
and $\epsilon\Sub{h}$ should be viewed as the structure of an “evaluation map” for $h$.
This structure can be rephrased in terms of a displayed category $\CandHom{x}{u}{v}$ over $\Sl{B}{x}$:</p>

<ol>
  <li>
    <p>Given $h\in \Sl{B}{x}$, an object of $\CandHom{x}{u}{v}\Sub{h}$ is given by a hom candidate
whose apex in the base is $h$ itself. We will write $\bar{h}$ metonymically
for the entire hom candidate over $h$.</p>
  </li>
  <li>
    <p>Given $\alpha:l\to h\in\Sl{B}{x}$ and hom candidates $\bar{l}\in \CandHom{x}{u}{v}\Sub{l}$ and
$\bar{h}\in \CandHom{x}{u}{v}\Sub{h}$, a morphism $\bar{h}\to\Sub{\alpha} \bar{l}$ is given by a
cartesian morphism $\bar\alpha:\bar{l}\to\Sub{\alpha}\bar{h}$ in $E$ such that the
following diagram commutes:
<span class="antex display"><img style='margin: 0.002ex 0.112ex -8.491ex 0.0ex; height: 17.844ex; width: 24.097ex;' src="/math/antex/92078006dff8ce9e98a116b9fc0be7c0.svg" /></span></p>
  </li>
</ol>

<p><strong>Definition.</strong> A fibration $E$ over $B$ is <em>locally small</em> if and only if for
each $x\in B$ and $u,v\in E\Sub{x}$, the total category $\TotCat{\CandHom{x}{u}{v}}$
has a terminal object.</p>

<h3 id="000J">
  Globally small fibrations
<a class="slug" href="/math/nodes/000J.html">[000J]</a>
</h3>

<p>In ordinary category theory, a category $C$ is called <em>small</em> when the objects
of $C$ can be arranged into a set, and so can for every $x,y\in C$ the
collection of morphisms $x\to y$. It is useful to separate these two conditions
when we generalize them to fibrations; the first is called <em>local smallness</em>
and is discussed and defined in <a href="/math/nodes/000F.html" class="slug">[000F]</a>. The former is called <em>global
smallness</em> by Jacobs and factors through an important concept: the <em>generic object</em>.</p>

<p><strong>Definition.</strong> An ordinary category is called <em>globally small</em> when it has a set of objects.</p>

<h4 id="000K">
  Generic objects
<a class="slug" href="/math/nodes/000K.html">[000K]</a>
</h4>

<p>Up to equivalence of categories, we may detect global smallness of a cateogry $C$ from the perspective of the family fibration $\FAM{C}$ <a href="/math/nodes/0006.html" class="slug">[0006]</a>. In particular, a category is equivalent to a globally small category when its family fibration has a <em>generic object</em> in the following sense.</p>

<p><strong>Definition.</strong> Let $E$ be a fibration over $B$; a <em>generic object</em> for $E$ is defined to be an object $\bar{u}\in \TotCat{E}$  such that for any $\bar{z}\in \TotCat{E}$ there exists a cartesian map $\bar{z}\to \bar{u}$.</p>

<h5 id="000L">
  Globally small categories
<a class="slug" href="/math/nodes/000L.html">[000L]</a>
</h5>

<p><strong>Theorem.</strong> An ordinary category $C$ is equivalent to a globally small category if and only if the fibration $\FAM{C}$ has a generic object.</p>

<p><strong>Proof.</strong>
To see that this is the case, suppose that $C$ has a set of objects. Then
$C\in\SET$ and we define $\lfloor{C}\rfloor$ to be the displayed object
$\brc{x}\Sub{x\in C}\in \FAM{C}[C]$. Fixing $I\in \SET$ and $z\in C^I$, we
consider the cartesian map displayed over $z : I \to C$:
<span class="antex display"><img style='margin: -0.024ex 0.069ex -2.23ex 0.0ex; height: 14.758ex; width: 33.227ex;' src="/math/antex/f9b6daf1d0c21d371f0388d07c838237.svg" /></span></p>

<p>Conversely assume that $\FAM{C}$ has a generic object $\bar{u}\in\FAM{C}[U]$
for some $U\in \SET$; then we may equip $U$ with the structure of a globally
small category such that $U$ is equivalent to $C$, using a construction that is similar to our implementation of the opposite fibration <a href="/math/nodes/000Q.html" class="slug">[000Q]</a>. In particular we define a
morphism $x\to y\in U$ to be given by the following data:</p>

<ol>
  <li>a cartesian map $a\to\Sub{x} \bar{u}$ over $x : 1\to U$,</li>
  <li>a cartesian map $b\to\Sub{y} \bar{u}$ over $y : 1\to U$,</li>
  <li>and a vertical map $h:a\to b$ in $\FAM{C}[1]\simeq C$,</li>
</ol>

<p>such that $(a\Sub{1},b\Sub{1},h\Sub{1})$ is identified with $(a\Sub{2},b\Sub{2},h\Sub{2})$ when $h_1$ and $h_2$ are equal modulo the (unique) vertical isomorphisms between the cartesian lifts in the sense depicted below:
<span class="antex display"><img style='margin: -0.023ex 0.052ex -16.596ex 0.0ex; height: 19.998ex; width: 33.325ex;' src="/math/antex/ad5fe4e2ec0b3a38cda6cdec2eb215e6.svg" /></span></p>

<p>Remember that a cartesian map $a\to\Sub{x}\bar{u}$ is standing for a <em>choice</em>
of an object of $C$ encoded by $x\in U$. Because such choices are unique only
up to isomorphism, we must include them explicitly in the data.</p>

<p><strong>Note.</strong> To define the categry $U$ above, we have used our assumption that
<em>classes</em> are closed under quotients <a href="/math/nodes/000R.html" class="slug">[000R]</a>.</p>

<h4 id="000P">
  The definition of global smallness
<a class="slug" href="/math/nodes/000P.html">[000P]</a>
</h4>

<p><strong>Definition.</strong> A fibration $E$ over $B$ is called <em>globally small</em> when it has a generic object <a href="/math/nodes/000K.html" class="slug">[000K]</a>.</p>

<h3 id="000N">
  Small fibrations and internal categories
<a class="slug" href="/math/nodes/000N.html">[000N]</a>
</h3>

<p>The purpose of this section is to develop the relationship between <em>internal
categories</em> (categories defined in the internal language of a category $B$) and
fibrations over $B$, generalizing the relationship between categories internal
to $\SET$ (i.e. small categories) and their family fibrations over $\SET$.</p>

<p><strong>Definition.</strong> A fibration is called <em>small</em> when it is both locally small
<a href="/math/nodes/000I.html" class="slug">[000I]</a> and globally small <a href="/math/nodes/000J.html" class="slug">[000J]</a>.</p>

<p>We have already seen in <a href="/math/nodes/000G.html" class="slug">[000G]</a> and <a href="/math/nodes/000L.html" class="slug">[000L]</a> that smallness in the
sense of the definition above appropriately generalizes the ordinary notion of
smallness for categories over $\SET$. Another perspective on smallness is given
by the <em>internal language</em>, in which a category is viewed as an algebra for the
“theory of categories” computed in another category with enough structure. The
notion of internal categories is credited (independently) to Alexander
Grothendieck and Charles Ehresmann.</p>

<h4 id="000O">
  Internal categories
<a class="slug" href="/math/nodes/000O.html">[000O]</a>
</h4>


  </div>


  

  


</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/math/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The Nursury</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The Nursury</li><li><a class="u-email" href="mailto:jon@jonmsterling.com">jon@jonmsterling.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jonsterling"><svg class="svg-icon"><use xlink:href="/math/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jonsterling</span></a></li><li><a href="https://www.twitter.com/jonmsterling"><svg class="svg-icon"><use xlink:href="/math/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jonmsterling</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A mathematical web page.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
